<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Tools &#8212; mmSolver 0.1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Nodes" href="nodes.html" />
    <link rel="prev" title="Introduction" href="introduction.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="nodes.html" title="Nodes"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="introduction.html" title="Introduction"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">mmSolver 0.1.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tools">
<h1>Tools<a class="headerlink" href="#tools" title="Permalink to this headline">¶</a></h1>
<p>Most users will use the tools listed below to control and manipulate the
MM Solver. There are also utilities to help the MM Solver workflow.</p>
<div class="section" id="solver-ui">
<h2>Solver UI<a class="headerlink" href="#solver-ui" title="Permalink to this headline">¶</a></h2>
<p>This UI is designed to allow all aspects of the mmSolver command.</p>
<p>To open the Solver run this Python command:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mmSolver.tools.solver.tool</span> <span class="k">as</span> <span class="nn">solver</span>
<span class="n">solver</span><span class="o">.</span><span class="n">open_window</span><span class="p">()</span>
</pre></div>
</div>
<div class="figure" id="id2">
<img alt="Solver UI" src="https://raw.githubusercontent.com/david-cattermole/mayaMatchMoveSolver/master/design/ui/mmSolver.png" />
<p class="caption"><span class="caption-text">Solver UI</span></p>
</div>
<div class="section" id="objects">
<h3>Objects<a class="headerlink" href="#objects" title="Permalink to this headline">¶</a></h3>
<p>This section of the UI displays the marker objects that will be used for
solving.</p>
</div>
<div class="section" id="attributes">
<h3>Attributes<a class="headerlink" href="#attributes" title="Permalink to this headline">¶</a></h3>
<p>This section of the UI shows the Attributes that will be used for
solving.</p>
</div>
<div class="section" id="solver-steps">
<h3>Solver Steps<a class="headerlink" href="#solver-steps" title="Permalink to this headline">¶</a></h3>
<p>You can add multiple solver “steps”, each step is performed going
<strong>downwards</strong>, first #1, then #2, #3, etc.</p>
<p>When you hit the “solve” button you are performing all of the solve
steps.</p>
<p>The ‘Override Current Frame’ check-box allows the user to temporarily
override the time for all Solve Steps with the current frame. The
current frame value dynamically updates as the user changes the Maya
frame. The original solver frame numbers are always stored and never
overwritten.</p>
<p>Each Solver “step” contains:</p>
<ul class="simple">
<li>Enabled</li>
<li>Frames</li>
<li>Attributes</li>
<li>Strategy</li>
</ul>
<div class="section" id="enabled">
<h4>Enabled<a class="headerlink" href="#enabled" title="Permalink to this headline">¶</a></h4>
<p>Should we use the solver step or not?</p>
<p>This is a text input (currently), type “yes”, or “no”, “y” or “n”, or
“true” or “false” (and other common english words), to set the state.</p>
</div>
<div class="section" id="frames">
<h4>Frames<a class="headerlink" href="#frames" title="Permalink to this headline">¶</a></h4>
<p>This is the list of frames to solve.</p>
<p>The frame numbers can be entered as “#-#” to define a range, or
“#,#,#,#” to define a list of individual frame numbers.</p>
<p>Examples are “1,10,20,30,40,50” or “10-20,30,40-50”.</p>
<p>Once text is entered the UI will evaluate the list and re-create the
string shown.</p>
</div>
<div class="section" id="attributes-1">
<span id="id1"></span><h4>Attributes<a class="headerlink" href="#attributes-1" title="Permalink to this headline">¶</a></h4>
<p>This is a filter of the attributes used in the solve step.</p>
<p>You may type into this field either one of these options:</p>
<ul class="simple">
<li>“Animated Only” - Use only the animated attributes</li>
<li>“Static + Animated” - Use the static and animated attributes</li>
</ul>
</div>
<div class="section" id="strategy">
<h4>Strategy<a class="headerlink" href="#strategy" title="Permalink to this headline">¶</a></h4>
<p>This is the “solving strategy”; how the frames and attributes are
ordered in the solving process.</p>
<p>There are two currently supported strategies:</p>
<ul class="simple">
<li>“Two Frames Fwd” - Each pair of sequential frames are solved
together; frame 1 and 2, then 2 and 3, then 3 and 4, etc.</li>
<li>“All Frames” - All numbers are solved together, at once (also called
a “global solve”).</li>
</ul>
<p>If the “Animated Only” attribute filter is currently used, then the
strategies above are unused and instead we loop over the frames
sequentially and solve each frame independent of any other frame. This
is the fastest method, but cannot solve Static attributes.</p>
</div>
</div>
</div>
<div class="section" id="create-marker">
<h2>Create Marker<a class="headerlink" href="#create-marker" title="Permalink to this headline">¶</a></h2>
<p>Create a default Marker node.</p>
<p>Run this Python command:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mmSolver.tools.createmarker.tool</span> <span class="k">as</span> <span class="nn">createmarker_tool</span>
<span class="n">createmarker_tool</span><span class="o">.</span><span class="n">create_marker</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="convert-to-marker">
<h2>Convert to Marker<a class="headerlink" href="#convert-to-marker" title="Permalink to this headline">¶</a></h2>
<p>Converts the selected transform nodes into screen-space Markers, as
viewed though the active viewport camera.</p>
<p>The created markers are named based on the selected transform nodes, and
are parented under the active viewport camera.</p>
<p>Run this Python command:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mmSolver.tools.convertmarker.tool</span> <span class="k">as</span> <span class="nn">convertmarker_tool</span>
<span class="n">convertmarker_tool</span><span class="o">.</span><span class="n">convert_to_marker</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="load-markers">
<h2>Load Markers<a class="headerlink" href="#load-markers" title="Permalink to this headline">¶</a></h2>
<p>The Load Markers UI allows loading of .txt, .uv and .rz2 files.</p>
<p>When opening the UI, the contents of the user’s clipboard is queried and
if it looks like a file path, it will be automatically pasted into the
“File Path”, so you won’t need to “Browse” for the file. In 3DEqualizer,
I have a script designed to copy the selected 2D points to a temporary
file path and then place that file path on the clipboard automatically.
This would be my recommended workflow with 3DEqualizer.</p>
<p>The “Camera” list contains all the cameras currently in the Maya scene.
If no cameras are available (persp, front, top, left do not count), the
default option is to “”. The “Update” button refreshes the “Camera” list
without needing to close and re-open the UI.</p>
<p>Once a file path is given, press the “Load” button.</p>
<div class="figure" id="id3">
<img alt="Load Markers UI" src="https://raw.githubusercontent.com/david-cattermole/mayaMatchMoveSolver/master/design/ui/loadMarkers.png" />
<p class="caption"><span class="caption-text">Load Markers UI</span></p>
</div>
<p>For .txt, unfortunately the resolution is not yet given, and so you’ll
need to scale the animation curves manually. The “Option” value is
intended to become the resolution Width / Height for the .txt format,
but is not yet connected up.</p>
<p>Run this Python command:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mmSolver.tools.loadmarker.ui.loadmarker_window</span> <span class="k">as</span> <span class="nn">loadmarker_window</span>
<span class="n">loadmarker_window</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="create-bundle">
<h2>Create Bundle<a class="headerlink" href="#create-bundle" title="Permalink to this headline">¶</a></h2>
<p>Create a default Bundle node.</p>
<p>If Markers are selected, the Bundle will attempt to attach to it, while
adhering to the rule; <em>a bundle can only have one marker representation
for each camera.</em></p>
<p>Run this Python command:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mmSolver.tools.createbundle.tool</span> <span class="k">as</span> <span class="nn">createbundle_tool</span>
<span class="n">createbundle_tool</span><span class="o">.</span><span class="n">create_bundle</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="link-marker-bundle">
<h2>Link Marker + Bundle<a class="headerlink" href="#link-marker-bundle" title="Permalink to this headline">¶</a></h2>
<p>Link the selected Marker and Bundle together.</p>
<p>The link will not succeed if the selected Bundle is already connected to
a Marker with the same camera, or in other words; A bundle can only have
one Marker per-camera. This tool checks and adheres to this requirement.</p>
<p>Run this Python command:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mmSolver.tools.linkmarkerbundle.tool</span> <span class="k">as</span> <span class="nn">link_mb_tool</span>
<span class="n">link_mb_tool</span><span class="o">.</span><span class="n">link_marker_bundle</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="unlink-marker-from-all-bundles">
<h2>Unlink Marker from all Bundles<a class="headerlink" href="#unlink-marker-from-all-bundles" title="Permalink to this headline">¶</a></h2>
<p>Unlink all the Bundles from all selected Markers.</p>
<p>Run this Python command:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mmSolver.tools.linkmarkerbundle.tool</span> <span class="k">as</span> <span class="nn">link_mb_tool</span>
<span class="n">link_mb_tool</span><span class="o">.</span><span class="n">unlink_marker_bundle</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="toggle-marker-bundle">
<h2>Toggle Marker / Bundle<a class="headerlink" href="#toggle-marker-bundle" title="Permalink to this headline">¶</a></h2>
<p>Select the opposite node, if a Marker is selected, select it’s connected
Bundle, and vice-versa.</p>
<p>Run this Python command:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mmSolver.tools.selection.tools</span> <span class="k">as</span> <span class="nn">selection_tool</span>
<span class="n">selection_tool</span><span class="o">.</span><span class="n">swap_between_selected_markers_and_bundles</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="select-marker-bundle">
<h2>Select Marker + Bundle<a class="headerlink" href="#select-marker-bundle" title="Permalink to this headline">¶</a></h2>
<p>With either a Marker or Bundle selected, select both connected nodes.</p>
<p>Run this Python command:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mmSolver.tools.selection.tools</span> <span class="k">as</span> <span class="nn">selection_tool</span>
<span class="n">selection_tool</span><span class="o">.</span><span class="n">select_both_markers_and_bundles</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="center-2d-on-selection">
<h2>Center 2D On Selection<a class="headerlink" href="#center-2d-on-selection" title="Permalink to this headline">¶</a></h2>
<p>Forces the active viewport camera to lock it’s center to the currently
selected transform node.</p>
<p>A viewport camera can only center on one node at a time.</p>
<p>Run this Python command:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mmSolver.tools.centertwodee.tool</span> <span class="k">as</span> <span class="nn">centertwodee_tool</span>
<span class="n">centertwodee_tool</span><span class="o">.</span><span class="n">center_two_dee</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="aim-at-camera">
<h2>Aim at Camera<a class="headerlink" href="#aim-at-camera" title="Permalink to this headline">¶</a></h2>
<p>Aim the selected transform nodes toward the active viewport camera.</p>
<p>Run this Python command:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mmSolver.tools.cameraaim.tool</span> <span class="k">as</span> <span class="nn">cameraaim_tool</span>
<span class="n">cameraaim_tool</span><span class="o">.</span><span class="n">aim_at_camera</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Tools</a><ul>
<li><a class="reference internal" href="#solver-ui">Solver UI</a><ul>
<li><a class="reference internal" href="#objects">Objects</a></li>
<li><a class="reference internal" href="#attributes">Attributes</a></li>
<li><a class="reference internal" href="#solver-steps">Solver Steps</a><ul>
<li><a class="reference internal" href="#enabled">Enabled</a></li>
<li><a class="reference internal" href="#frames">Frames</a></li>
<li><a class="reference internal" href="#attributes-1">Attributes</a></li>
<li><a class="reference internal" href="#strategy">Strategy</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#create-marker">Create Marker</a></li>
<li><a class="reference internal" href="#convert-to-marker">Convert to Marker</a></li>
<li><a class="reference internal" href="#load-markers">Load Markers</a></li>
<li><a class="reference internal" href="#create-bundle">Create Bundle</a></li>
<li><a class="reference internal" href="#link-marker-bundle">Link Marker + Bundle</a></li>
<li><a class="reference internal" href="#unlink-marker-from-all-bundles">Unlink Marker from all Bundles</a></li>
<li><a class="reference internal" href="#toggle-marker-bundle">Toggle Marker / Bundle</a></li>
<li><a class="reference internal" href="#select-marker-bundle">Select Marker + Bundle</a></li>
<li><a class="reference internal" href="#center-2d-on-selection">Center 2D On Selection</a></li>
<li><a class="reference internal" href="#aim-at-camera">Aim at Camera</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="introduction.html"
                        title="previous chapter">Introduction</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="nodes.html"
                        title="next chapter">Nodes</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/tools.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="nodes.html" title="Nodes"
             >next</a> |</li>
        <li class="right" >
          <a href="introduction.html" title="Introduction"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">mmSolver 0.1.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, David Cattermole.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.6.
    </div>
  </body>
</html>